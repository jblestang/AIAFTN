#!/bin/bash
# Script pour télécharger des exemples de messages AFTN réels

SAMPLES_DIR="tests/samples"
mkdir -p "$SAMPLES_DIR"

echo "Téléchargement d'exemples de messages AFTN..."

# Exemples de NOTAM (format typique)
cat > "$SAMPLES_DIR/notam_example1.txt" << 'EOF'
GG LFPGYYYX LFPOYYYX 151230 NOTAM A1234/24 LFPG RWY 09/27 CLOSED DUE TO MAINTENANCE FROM 151230 TO 161230
EOF

cat > "$SAMPLES_DIR/notam_example2.txt" << 'EOF'
DD LFPGYYYX LFPOYYYX 201530 NOTAM B5678/24 LFPG NAVAID VOR 108.5 MHZ U/S
EOF

# Exemples de METAR (format standard ICAO)
cat > "$SAMPLES_DIR/metar_example1.txt" << 'EOF'
GG LFPGYYYX LFPOYYYX 151230 METAR LFPG 151230Z 28015KT 9999 FEW030 12/08 Q1013 NOSIG
EOF

cat > "$SAMPLES_DIR/metar_example2.txt" << 'EOF'
DD LFPGYYYX LFPOYYYX 201530 METAR LFPG 201530Z AUTO 28015G25KT 8000 -RA BKN015 OVC025 10/09 Q1012 TEMPO 3000 RA
EOF

# Exemples de TAF
cat > "$SAMPLES_DIR/taf_example1.txt" << 'EOF'
DD LFPGYYYX LFPOYYYX 151200 TAF LFPG 151200Z 1512/1612 28015KT 9999 FEW030 BECMG 1518/1520 30020G35KT
EOF

cat > "$SAMPLES_DIR/taf_example2.txt" << 'EOF'
FF LFPGYYYX LFPOYYYX 151200 TAF AMD LFPG 151200Z 1512/1612 28015KT 9999 FEW030 TEMPO 1518/1520 30020G35KT 4000 SHRA
EOF

# Exemple de FPL
cat > "$SAMPLES_DIR/fpl_example1.txt" << 'EOF'
SS LFPGYYYX LFPOYYYX 151200 FPL ABC123 V LFPG 151200 LFPB 1800 DCT LFPG DCT LFPB
EOF

# Exemple avec plusieurs destinations
cat > "$SAMPLES_DIR/multiple_dest.txt" << 'EOF'
GG LFPGYYYX LFPOYYYX LFPBYYYX LFPNYYYX 151230 NOTAM A1234/24 LFPG RWY CLOSED
EOF

# Exemple avec séquence
cat > "$SAMPLES_DIR/with_sequence.txt" << 'EOF'
GG LFPGYYYX LFPOYYYX 151230 TEST MESSAGE CONTENT /SEQ 001
EOF

echo "Exemples créés dans $SAMPLES_DIR"
ls -la "$SAMPLES_DIR"

